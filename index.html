<!DOCTYPE html>
<html>
  <head>
    <title>Prueba</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/css.css">
    
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.6.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.2/firebase-auth.js"></script>
    
    <script src="js/init.js"></script>
  </head>
  <body>
    <header>
      <h1>Datos</h1>
    </header>
    <form id="forma" action="javascript:calcula()">
      <p><label>Boleta : <input id="boleta" type="number"></label></p>
      <p><label>Nombre : <input id="nombre" type="text"></label></p>
      <p><label>Grupo : <input id="grupo" type="text"></label></p>
      <p><label>Materia : <input id="materia" type="text"></label></p>
      <p><label>Fecha : <input id="fecha" type="date"></label></p>
      <p><button>Procesa</button></p>
      <p><output id="outSalida"></output></p>
    </form>
    <p><button type="button" onclick="terminaSesión()">Terminar Sesión</button></p>
    <footer><p>Copyright &copy; 2021 Jose Arturo Piña</p></footer>
    <script>
      const auth = firebase.auth();
      /** Tipo de autenticación de usuarios. En este caso es con Google. */
      // @ts-ignore
      const provider = new firebase.auth.GoogleAuthProvider();
      /* Configura el proveedor de Google para que permita seleccionar de una
       * lista. */
 
      /** Termina la sesión. */
      async function terminaSesión() {
        try {
          await auth.signOut();
        } catch (e) {
          procesaError(e);
        }
      }
      /** Procesa un error. Muestra el objeto en la consola y un cuadro de
       * alerta con el mensaje.
       * @param {Error} e descripción del error. */
      function procesaError(e) {
        console.log(e);
        alert(e.message);
      }
      
        var forma = document.getElementById("forma"),
            outSalida = document.getElementById("outSalida"),
            txtfecha = forma["fecha"];

        function calcula(){
          var boleta = forma["boleta"].value.trim(),
              nombre = forma["nombre"].value.trim(),
              grupo = forma["grupo"].value.trim(),
              materia = forma["materia"].value.trim(),
              fecha = new Date(txtfecha.value);
          outSalida.textContent = "Boleta: " + boleta + " nombre: " + nombre + " Grupo: " + grupo
                                  + " Materia: " + materia + " Fecha: " + fecha;
        }
    </script>
  </body>
</html>
